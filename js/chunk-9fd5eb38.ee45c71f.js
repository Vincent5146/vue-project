(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9fd5eb38"],{3182:function(t,e,c){},"970e":function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),r=function(t){return Object(n["C"])("data-v-7be6bede"),t=t(),Object(n["A"])(),t},s={class:"checkoutPay"},a={class:"container"},o={class:"d-flex justify-content-center align-items-center mb-5"},d=r((function(){return Object(n["h"])("h5",{class:"fw-bold mb-0 text-black-50"},"填寫資料",-1)})),b=r((function(){return Object(n["h"])("i",{class:"fas fa-arrow-right fs-5 mx-2"},null,-1)})),i=r((function(){return Object(n["h"])("i",{class:"fas fa-arrow-right fs-5 mx-2"},null,-1)})),l={class:"row d-flex justify-content-center"},u={class:"col-md-8"},h={key:0},f=r((function(){return Object(n["h"])("div",{class:"d-flex align-items-center"},[Object(n["h"])("i",{class:"fas fa-truck fs-3 me-3"}),Object(n["h"])("h2",{class:"fw-bold mb-0"},"感謝您的購買 !")],-1)})),j=r((function(){return Object(n["h"])("h6",{class:"fw-bold mt-4 mb-5"},"親愛的顧客您好，您已付款成功，商品將於 20 日內送達 !",-1)})),O=[f,j],p=r((function(){return Object(n["h"])("h2",{class:"fs-3 text-center fw-bold"},"商品明細",-1)})),w={class:"table-responsive-md mt-4"},g={class:"table lh-lg"},m=r((function(){return Object(n["h"])("thead",{class:"table-dark text-center"},[Object(n["h"])("tr",{class:"table-nowrap"},[Object(n["h"])("th",null,"商品名稱"),Object(n["h"])("th",null,"數量"),Object(n["h"])("th",{width:"200",class:"text-end"},"價格")])],-1)})),v={class:"text-center"},x={class:"text-end"},y={class:"text-center"},k=r((function(){return Object(n["h"])("td",{colspan:"2",class:"text-end"},"總價 :",-1)})),M={class:"text-end"},_=r((function(){return Object(n["h"])("h2",{class:"fs-3 text-center fw-bold mt-5"},"寄送明細",-1)})),$={class:"table-responsive-md"},z={class:"table lh-lg"},I={class:"table-nowrap"},L=r((function(){return Object(n["h"])("th",{width:"100",class:"fw-bold text-end"},"訂單編號 :",-1)})),C={class:"table-nowrap"},S=r((function(){return Object(n["h"])("th",{width:"100",class:"fw-bold text-end"},"訂購日期 :",-1)})),T={class:"table-nowrap"},E=r((function(){return Object(n["h"])("th",{width:"100",class:"fw-bold text-end"},"Email :",-1)})),P={class:"table-nowrap"},J=r((function(){return Object(n["h"])("td",{width:"100",class:"fw-bold text-end"},"姓名 :",-1)})),A={class:"table-nowrap"},N=r((function(){return Object(n["h"])("td",{width:"100",class:"fw-bold text-end"},"收件人電話 :",-1)})),q={class:"table-nowrap"},F=r((function(){return Object(n["h"])("td",{width:"100",class:"fw-bold text-end"},"收件人地址 :",-1)})),H={class:"table-nowrap"},X=r((function(){return Object(n["h"])("td",{width:"100",class:"fw-bold text-end"},"付款狀態 :",-1)})),B={key:0},D={key:1,class:"text-strong"},G={class:"d-flex justify-content-center mt-3 mt-md-5"};function K(t,e,c,r,f,j){var K=Object(n["J"])("Loading");return Object(n["z"])(),Object(n["g"])("div",s,[Object(n["k"])(K,{active:f.isLoading},null,8,["active"]),Object(n["h"])("div",a,[Object(n["h"])("div",o,[d,b,Object(n["h"])("h5",{class:Object(n["s"])(["fw-bold mb-0 text-black-50",{active:!f.order.is_paid}])},"確認付款",2),i,Object(n["h"])("h5",{class:Object(n["s"])(["text-black-50 fw-bold mb-0",{active:f.order.is_paid}])},"訂單完成",2)]),Object(n["h"])("div",l,[Object(n["h"])("div",u,[f.order.is_paid?(Object(n["z"])(),Object(n["g"])("div",h,O)):Object(n["f"])("",!0),p,Object(n["h"])("div",w,[Object(n["h"])("table",g,[m,Object(n["h"])("tbody",v,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(f.order.products,(function(e){return Object(n["z"])(),Object(n["g"])("tr",{class:"table-nowrap",key:e.id},[Object(n["h"])("td",null,Object(n["M"])(e.product.title),1),Object(n["h"])("td",null,Object(n["M"])(e.qty),1),Object(n["h"])("td",x,"NT$ "+Object(n["M"])(t.$filters.currency(e.final_total))+" 元",1)])})),128))]),Object(n["h"])("tfoot",y,[Object(n["h"])("tr",null,[k,Object(n["h"])("td",M,"NT$ "+Object(n["M"])(t.$filters.currency(f.order.total))+" 元",1)])])])]),_,Object(n["h"])("div",$,[Object(n["h"])("table",z,[Object(n["h"])("tbody",null,[Object(n["h"])("tr",I,[L,Object(n["h"])("td",null,Object(n["M"])(f.order.id),1)]),Object(n["h"])("tr",C,[S,Object(n["h"])("td",null,Object(n["M"])(t.$filters.date(f.order.create_at)),1)]),Object(n["h"])("tr",T,[E,Object(n["h"])("td",null,Object(n["M"])(f.order.user.email),1)]),Object(n["h"])("tr",P,[J,Object(n["h"])("td",null,Object(n["M"])(f.order.user.name),1)]),Object(n["h"])("tr",A,[N,Object(n["h"])("td",null,Object(n["M"])(f.order.user.tel),1)]),Object(n["h"])("tr",q,[F,Object(n["h"])("td",null,Object(n["M"])(f.order.user.address),1)]),Object(n["h"])("tr",H,[X,Object(n["h"])("td",null,[f.order.is_paid?Object(n["f"])("",!0):(Object(n["z"])(),Object(n["g"])("span",B,"尚未付款")),f.order.is_paid?(Object(n["z"])(),Object(n["g"])("span",D,"付款完成")):Object(n["f"])("",!0)])])])])]),Object(n["h"])("div",G,[f.order.is_paid?(Object(n["z"])(),Object(n["g"])("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:e[1]||(e[1]=function(t){return j.goProducts()})}," 繼續逛逛 ")):(Object(n["z"])(),Object(n["g"])("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:e[0]||(e[0]=function(t){return j.pay()})}," 確認付款 "))])])])])])}c("99af");var Q={name:"CheckoutPay",data:function(){return{isLoading:!1,orderId:"",order:{user:{},is_paid:!1}}},methods:{getOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("wwin5146","/order/").concat(this.orderId);this.$http.get(e).then((function(e){e.data.success&&(t.order=e.data.order)})).catch((function(e){console.warn(e,"error"),t.isLoading=!1}))},pay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("wwin5146","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(e).then((function(e){e.data.success&&(t.emitter.emit("message:push",{message:e.data.message,status:"success"}),t.getOrder(),t.isLoading=!1,document.documentElement.scrollTop=0)})).catch((function(e){console.warn(e,"error"),t.isLoading=!1}))},goProducts:function(){this.$router.push("/products")}},created:function(){this.orderId=this.$route.params.productId,this.getOrder()}},R=(c("c6ef"),c("6b0d")),U=c.n(R);const V=U()(Q,[["render",K],["__scopeId","data-v-7be6bede"]]);e["default"]=V},"99af":function(t,e,c){"use strict";var n=c("23e7"),r=c("da84"),s=c("d039"),a=c("e8b5"),o=c("861d"),d=c("7b0b"),b=c("07fa"),i=c("8418"),l=c("65f0"),u=c("1dde"),h=c("b622"),f=c("2d00"),j=h("isConcatSpreadable"),O=9007199254740991,p="Maximum allowed index exceeded",w=r.TypeError,g=f>=51||!s((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),m=u("concat"),v=function(t){if(!o(t))return!1;var e=t[j];return void 0!==e?!!e:a(t)},x=!g||!m;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,c,n,r,s,a=d(this),o=l(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?a:arguments[e],v(s)){if(r=b(s),u+r>O)throw w(p);for(c=0;c<r;c++,u++)c in s&&i(o,u,s[c])}else{if(u>=O)throw w(p);i(o,u++,s)}return o.length=u,o}})},b0c0:function(t,e,c){var n=c("83ab"),r=c("5e77").EXISTS,s=c("e330"),a=c("9bf2").f,o=Function.prototype,d=s(o.toString),b=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=s(b.exec),l="name";n&&!r&&a(o,l,{configurable:!0,get:function(){try{return i(b,d(this))[1]}catch(t){return""}}})},c6ef:function(t,e,c){"use strict";c("3182")}}]);
//# sourceMappingURL=chunk-9fd5eb38.ee45c71f.js.map